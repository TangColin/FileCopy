# FileCopyHelper

FileCopyHelper 是一个高效实用的文件批量复制工具，旨在简化将单个源文件夹内容同时复制到多个目标路径的操作流程，特别适合需要多目标同步文件的场景。

## 功能特点

- **多目标同步复制**：将一个源文件夹中的内容同时复制到多个目标路径
- **智能黑名单过滤**：支持排除特定文件或文件夹，支持通配符匹配
- **配置管理**：支持保存和加载配置方案，方便重复使用常用设置
- **实时进度显示**：清晰展示文件复制进度、当前文件和已复制字节数
- **文件冲突处理**：提供灵活的文件冲突解决方案
- **拖拽操作支持**：支持直接拖拽文件夹进行路径输入
- **自动恢复上次配置**：程序启动时自动加载上次使用的配置方案

## 系统要求

- Windows 操作系统
- .NET Framework 4.7.2 或更高版本

## 安装说明

1. 下载项目源码或发布版本
2. 确保您的系统已安装 .NET Framework 4.7.2 或更高版本
3. 直接运行 `FileCopyHelper.exe` 即可启动应用程序

## 使用指南

### 基本操作流程

1. **设置源文件夹**
   - 在"源文件夹"文本框中手动输入路径
   - 点击"浏览..."按钮选择文件夹
   - 直接拖拽文件夹到文本框或主窗口

2. **设置目标路径**
   - 在"目标路径"文本框中输入多个目标文件夹路径
   - 每行输入一个路径
   - 同样支持拖拽操作

3. **配置黑名单**
   - 在"黑名单设置"文本框中输入要忽略的文件或文件夹名称
   - 每行输入一个名称或模式
   - 支持通配符（*匹配任意字符，?匹配单个字符）
   - 默认黑名单：ArkApi、logs、ShooterGame

4. **开始复制**
   - 点击"开始复制"按钮启动复制操作
   - 复制过程中可点击"取消复制"按钮中断操作

5. **配置管理**
   - 点击"保存"按钮可保存当前设置为配置方案
   - 从下拉菜单中选择已保存的配置方案进行加载
   - 点击"删除"按钮可删除选中的配置方案

### 文件冲突处理

当目标路径中已存在相同名称的文件时，程序会显示冲突处理对话框，提供以下选项：
- **替换**：用源文件覆盖目标文件
- **跳过**：保留目标文件，不进行复制
- **取消**：取消整个复制操作

系统会记住您的选择，并应用于后续所有文件冲突。

## 配置文件管理

- 配置文件以 JSON 格式保存在程序目录下的 `Configurations` 文件夹中
- 每个配置方案对应一个独立的 JSON 文件
- 配置文件包含源路径、目标路径列表、黑名单列表和最后修改时间

## 技术实现细节

### 主要组件

- **MainForm**：程序的主界面，处理用户交互和UI更新
- **FileCopyService**：核心文件复制服务，实现多目标文件复制、黑名单过滤和冲突处理
- **ConfigurationService**：配置管理服务，负责配置的保存、加载和管理
- **CopyConfiguration**：数据模型，定义配置的数据结构
- **ConflictDialog**：文件冲突处理对话框

### 性能优化

- 使用异步文件复制操作，避免UI卡顿
- 采用缓冲流（1MB缓冲区）提高文件复制效率
- 实时进度报告，显示详细的复制状态
- 优化黑名单匹配逻辑，支持通配符快速过滤

## 常见问题解答

**Q: 如何在批量复制时排除临时文件或特定类型的文件？**
A: 在黑名单设置中添加对应的模式，例如：`*.tmp`、`Thumbs.db`、`.git` 等。

**Q: 程序能否在后台运行而不显示界面？**
A: 当前版本不支持纯后台运行模式，需要保持程序窗口处于打开状态。

**Q: 配置文件保存在哪里？能否备份或共享？**
A: 配置文件保存在程序目录下的 `Configurations` 文件夹中，可以直接备份或复制这些 JSON 文件进行共享。

**Q: 复制大文件或大量文件时会不会影响系统性能？**
A: 程序采用异步操作和缓冲区优化，尽量减少对系统性能的影响，但仍建议在系统资源充足时进行大规模复制操作。

## 联系与反馈

如有任何问题、建议或反馈，请通过以下方式联系作者：
- 无极交流群：1016741666
- 作者：唐小布

## 更新日志

### v2.0
- 全新UI设计，提升用户体验
- 优化多目标复制效率
- 增强黑名单功能，支持通配符
- 改进配置管理系统
- 增加拖拽操作支持
- 优化进度显示和错误处理

## 许可证

本软件遵循开源许可协议，详情请参阅 LICENSE 文件。